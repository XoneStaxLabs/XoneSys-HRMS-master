 @model IEnumerable<XoneHR.Models.CandidateDetails>
@{
    ViewBag.Title = "CandidateList";
    Layout = null;
    var Functionlist = XoneHR.Models.SessionManage.Current.PermitFunctions;
}



<script src="~/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="~/plugins/datatables/dataTables.bootstrap.min.js"></script>

<script>
    $(function () {

        $('#example2').DataTable({
            "order": [[1, "asc"]]
        });
    });
</script>

<style>
#example2 tbody>tr>td:first-child {
	max-width:300px !important;
}
</style>

<section class="newforms">
    
    <table id="example2" class="table table-bordered">  @*table-hover*@
        <thead>
            <tr>
                <th>Name</th>
                <th>PLRD Grade</th> @*Designation*@
                <th>Mobile No</th>
                <th>Register Date</th>
                <th>Nationality</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>

            @if (Model != null)
            {
                foreach (var item in Model)
                {
                    <tr>

                        <td>
                            @if (Functionlist.Where(m => m.FunTypeID == XoneHR.Models.FunctionTypes.CandidateProfile).Select(m => m.UserPermiStatus).SingleOrDefault())
                            {
                                <a href="/Candidate/Candidateprofile?CandID=@item.CandID" class="text-green bio"><b>@item.CandName</b></a>
                            }
                            else
                            {
                                @item.CandName
                            }
                        </td>
                        <td>
                            @item.DesigName
                        </td>
                        <td>@item.CandMobile</td>
                        <td>@item.CandRegDate.ToString("dd-MM-yyyy")</td>
                        <td>@item.Citizen</td>
                        @if (item.CandAppStatus == 1)
                        {
                            <td><span class="label label-success">New</span></td>
                            <td>
                                @if (Functionlist.Where(m => m.FunTypeID == XoneHR.Models.FunctionTypes.CandidateApprove).Select(m => m.UserPermiStatus).SingleOrDefault())
                                {
                                    <a href="#" name="2" class="EmpListColor btn-success BtnAppveCand" data-candid="@item.CandID">Approve</a>
                                }
                                @if (Functionlist.Where(m => m.FunTypeID == XoneHR.Models.FunctionTypes.CandidateReject).Select(m => m.UserPermiStatus).SingleOrDefault())
                                {
                                    <a href="#" name="3" class="EmpListColor btn-success BtnAppve" data-candid="@item.CandID">Reject</a>
                                    <a href="#" name="4" class="EmpListColor btn-success BtnAppve" data-candid="@item.CandID">Hold</a>
                                }
                            </td>
                        }
                        else if (item.CandAppStatus == 2)
                        {
                            <td><span class="label label-success">@*Offer Letter Sent*@Approved</span></td>
                            <td>
                                @if (Functionlist.Where(m => m.FunTypeID == XoneHR.Models.FunctionTypes.ConvertToWorkForce).Select(m => m.UserPermiStatus).SingleOrDefault())
                                {
                                    <a href="#" class="EmpListColor btn-success ToworkForce" data-candid="@item.CandID">Convert To Workforce</a>
                                }
                            </td>
                        }
                        else if (item.CandAppStatus == 3)
                        {

                            <td><span class="label label-danger">Rejected</span></td>
                            <td></td>

                        }
                        else if (item.CandAppStatus == 4)
                        {

                            <td><span class="label label-warning">Hold</span></td>
                            <td></td>
                        }
                    </tr>
                }
            }
          
        </tbody>
    </table>
</section>

